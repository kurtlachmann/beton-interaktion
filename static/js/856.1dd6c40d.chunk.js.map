{"version":3,"file":"static/js/856.1dd6c40d.chunk.js","mappings":"wNA8Je,SAASA,EAAMC,GAC7B,OAAgCC,EAAAA,EAAAA,WAAS,oBAAzC,eAAKC,EAAL,KAAgBC,EAAhB,KACMC,GAAiDC,EAAAA,EAAAA,QAAO,MAkB9D,OAhBAC,EAAAA,EAAAA,YAAU,WAaT,OAVIF,EAAWG,SACdC,aAAaJ,EAAWG,SAEzBH,EAAWG,QAAUE,YAAW,WAC/BL,EAAWG,QAAU,KACrB,IAAMG,EA/IT,SAAoBV,GACnB,MAAO,CACN,CACCW,KAAM,kBACNC,KAAMZ,EAAMY,MACV,CACFD,KAAM,KACNC,KAAM,CAACZ,EAAMa,KACX,CACFF,KAAM,KACNC,KAAM,CAACZ,EAAMc,MAqIEC,CAAWf,GAC1B,EA9BH,SAAoBU,GACnB,IADwC,EACpCM,EAAQC,EAAAA,EACRC,EAAQD,EAAAA,EACRE,GAAQ,IACRC,GAAQ,IAJ4B,UAKrBV,EAAO,GAAGE,MALW,IAKxC,2BAAmC,CAAC,IAAD,qBAAzBS,EAAyB,KAAtBC,EAAsB,KAC9BD,EAAIF,IAAOA,EAAQE,GACnBC,EAAIF,IAAOA,EAAQE,GACnBD,EAAIL,IAAOA,EAAQK,GACnBC,EAAIJ,IAAOA,EAAQI,IATgB,8BAaxC,MAAO,CAF+B,IAA1BC,KAAKC,MAAMR,EAAQ,KAAa,IACN,IAA1BO,KAAKC,MAAML,EAAQ,KAAa,KAkBrBM,CAAWf,GAAhC,eACMgB,EAjIT,SAAyBC,EAAeC,GACvC,MAAO,CACNC,MAAO,CACNC,GAAI,gBACJC,KAAM,OACNC,WAAY,CACXC,SAAS,GAEVC,QAAS,CACRC,MAAM,GAEPC,KAAM,CACLH,SAAS,IAGXI,MAAO,CACNN,KAAM,UACNO,IAAKX,EACLY,IAAKX,EACLY,WAAY,GACZC,gBAAiB,EACjBC,MAAO,CACNC,KAAM,8BAGRC,MAAO,CACNJ,WAAY,EACZC,gBAAiB,EACjBC,MAAO,CACNC,KAAM,6BAGRE,OAAQ,CACPC,QAAS,SAEVC,YAAa,CACZH,MAAO,CACN,CACCI,EAAG,EACHC,gBAAiB,EACjBC,YAAa,OACbC,YAAa,EACbC,QAAS,IAGXf,MAAO,CACN,CACCgB,EAAG,EACHJ,gBAAiB,EACjBC,YAAa,OACbC,YAAa,EACbC,QAAS,KAIZE,QAAS,CACRC,WAAW,EACXC,QAAQ,GAETC,OAAQ,CACPC,SAAU,SACVC,OAAQ,GACRC,WAAY,CACXC,WAAY,GACZC,SAAU,IAGZC,QAAS,GAeTC,KAAM,CACL3B,MAAO,CACN4B,MAAO,CACN9B,MAAM,IAGRS,MAAO,CACNqB,MAAO,CACN9B,MAAM,MAuCQ+B,CADhB,WAEA/D,GAAa,SAAC,IAAD,CAAOuB,QAASA,EAAShB,OAAQA,EAAQqB,KAAK,YACzD,KACI,WAAW3B,EAAWG,SAASC,aAAaJ,EAAWG,YAC5D,CAACP,KAEG,8BAAGE","sources":["rechteck_qs/Graph.tsx"],"sourcesContent":["import { ApexOptions } from \"apexcharts\";\nimport { Suspense, useEffect, useRef, useState } from \"react\";\nimport Chart from \"react-apexcharts\";\nimport { propTypes } from \"react-bootstrap/esm/Image\";\n\n\nexport interface GraphProps {\n\tdata: [number, number][]\n\tRd: [number, number]\n\tEd: [number, number]\n}\n\n\ntype GraphSeries = [\n\t{\n\t\tname: \"M-N-Interaktion\",\n\t\tdata: [number, number][]\n\t}, {\n\t\tname: \"Ed\",\n\t\tdata: [[number, number]]\n\t}, {\n\t\tname: \"Rd\",\n\t\tdata: [[number, number]]\n\t}\n];\n\n\nfunction makeSeries(props: GraphProps): GraphSeries {\n\treturn [\n\t\t{\n\t\t\tname: \"M-N-Interaktion\",\n\t\t\tdata: props.data\n\t\t}, {\n\t\t\tname: \"Ed\",\n\t\t\tdata: [props.Ed]\n\t\t}, {\n\t\t\tname: \"Rd\",\n\t\t\tdata: [props.Rd]\n\t\t}\n\t];\n}\n\n\nfunction getGraphOptions(x_min: number, x_max: number): ApexOptions {\n\treturn {\n\t\tchart: {\n\t\t\tid: \"mninteraktion\",\n\t\t\ttype: \"line\",\n\t\t\tanimations: {\n\t\t\t\tenabled: false,\n\t\t\t},\n\t\t\ttoolbar: {\n\t\t\t\tshow: false\n\t\t\t},\n\t\t\tzoom: {\n\t\t\t\tenabled: false,\n\t\t\t}\n\t\t},\n\t\txaxis: {\n\t\t\ttype: 'numeric',\n\t\t\tmin: x_min,\n\t\t\tmax: x_max,\n\t\t\ttickAmount: 14,\n\t\t\tdecimalsInFloat: 0,\n\t\t\ttitle: {\n\t\t\t\ttext: \"Biegemoment M-Rd in [kNm]\"\n\t\t\t},\n\t\t},\n\t\tyaxis: {\n\t\t\ttickAmount: 8,\n\t\t\tdecimalsInFloat: 0,\n\t\t\ttitle: {\n\t\t\t\ttext: \"Normalkraft N-Rd in [kN]\"\n\t\t\t},\n\t\t},\n\t\tstroke: {\n\t\t\tlineCap: 'round',\n\t\t},\n\t\tannotations: {\n\t\t\tyaxis: [\n\t\t\t\t{\n\t\t\t\t\ty: 0,\n\t\t\t\t\tstrokeDashArray: 0,\n\t\t\t\t\tborderColor: '#888',\n\t\t\t\t\tborderWidth: 1,\n\t\t\t\t\topacity: 1\n\t\t\t\t}\n\t\t\t],\n\t\t\txaxis: [\n\t\t\t\t{\n\t\t\t\t\tx: 0,\n\t\t\t\t\tstrokeDashArray: 0,\n\t\t\t\t\tborderColor: '#888',\n\t\t\t\t\tborderWidth: 1,\n\t\t\t\t\topacity: 1\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\ttooltip: {\n\t\t\tintersect: true,\n\t\t\tshared: false,\n\t\t},\n\t\tlegend: {\n\t\t\tposition: \"bottom\",\n\t\t\theight: 40,\n\t\t\titemMargin: {\n\t\t\t\thorizontal: 10,\n\t\t\t\tvertical: 0\n\t\t\t}\n\t\t},\n\t\tmarkers: {\n\t\t\t// size: 3,\n\t\t\t// strokeWidth: 0,\n\t\t\t// hover: {\n\t\t\t// \tsize: 3,\n\t\t\t// },\n\t\t\t// discrete: [{\n\t\t\t// \tseriesIndex: 1,\n\t\t\t// \tdataPointIndex: 0,\n\t\t\t// \tfillColor: '#00e396',\n\t\t\t// \tstrokeColor: '#fff',\n\t\t\t// \tsize: 10,\n\t\t\t// \tshape: \"circle\",\n\t\t\t// }]\n\t\t},\n\t\tgrid: {\n\t\t\txaxis: {\n\t\t\t\tlines: {\n\t\t\t\t\tshow: true,\n\t\t\t\t}\n\t\t\t},\n\t\t\tyaxis: {\n\t\t\t\tlines: {\n\t\t\t\t\tshow: true,\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t}\n}\n\n\nfunction getMinMaxX(series: GraphSeries) {\n\tlet M_min = Infinity;\n\tlet N_min = Infinity;\n\tlet M_max = -Infinity;\n\tlet N_max = -Infinity;\n\tfor (let [M, N] of series[0].data) {\n\t\tif (M > M_max) M_max = M;\n\t\tif (N > N_max) N_max = N;\n\t\tif (M < M_min) M_min = M;\n\t\tif (N < N_min) N_min = N;\n\t}\n\tlet x_min = Math.floor(M_min / 500) * 500 - 500\n\tlet x_max = Math.floor(M_max / 500) * 500 + 500\n\treturn [x_min, x_max]\n}\n\n\nexport default function Graph(props: GraphProps) {\n\tlet [component, setComponent] = useState(<div></div>);\n\tconst timeoutRef: { current: NodeJS.Timeout | null } = useRef(null);\n\n\tuseEffect(() => {\n\t\t// Rendering the graph takes some time. Wait a bit if the input changes again. Once the user\n\t\t// has stopped typing we actually start rendering.\n\t\tif (timeoutRef.current) {\n\t\t\tclearTimeout(timeoutRef.current);\n\t\t}\n\t\ttimeoutRef.current = setTimeout(() => {\n\t\t\ttimeoutRef.current = null;\n\t\t\tconst series = makeSeries(props);\n\t\t\tlet [x_min, x_max] = getMinMaxX(series);\n\t\t\tconst options = getGraphOptions(x_min, x_max);\n\t\t\tsetComponent(<Chart options={options} series={series} type=\"line\" />);\n\t\t}, 1000);\n\t\treturn () => {if (timeoutRef.current) clearTimeout(timeoutRef.current)};\n\t}, [props]);\n\n\treturn <>{component}</>\n}\n"],"names":["Graph","props","useState","component","setComponent","timeoutRef","useRef","useEffect","current","clearTimeout","setTimeout","series","name","data","Ed","Rd","makeSeries","M_min","Infinity","N_min","M_max","N_max","M","N","Math","floor","getMinMaxX","options","x_min","x_max","chart","id","type","animations","enabled","toolbar","show","zoom","xaxis","min","max","tickAmount","decimalsInFloat","title","text","yaxis","stroke","lineCap","annotations","y","strokeDashArray","borderColor","borderWidth","opacity","x","tooltip","intersect","shared","legend","position","height","itemMargin","horizontal","vertical","markers","grid","lines","getGraphOptions"],"sourceRoot":""}