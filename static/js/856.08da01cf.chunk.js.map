{"version":3,"file":"static/js/856.08da01cf.chunk.js","mappings":"wNA8JA,SAASA,EAAcC,GACtB,OAA4BC,EAAAA,EAAAA,WAAS,GAArC,eAAKC,EAAL,KAAcC,EAAd,KACMC,GAAiDC,EAAAA,EAAAA,QAAO,MAe9D,OAdAC,EAAAA,EAAAA,YAAU,WAYT,OAXAH,GAAW,GACPC,EAAWG,UACdC,QAAQC,IAAI,iBAAkBL,EAAWG,QAAS,WAAYL,GAC9DQ,aAAaN,EAAWG,UAEzBH,EAAWG,QAAUI,YAAW,WAC/BH,QAAQC,IAAI,+BAA+B,GAC3CN,GAAW,GACXC,EAAWG,QAAU,OACnB,KACHC,QAAQC,IAAI,eAAgBL,EAAWG,QAAS,WAAYL,GACrD,WAAWE,EAAWG,SAASG,aAAaN,EAAWG,YAC5D,CAACP,IACGE,EAAUF,EAAMY,SAAW,KAmBnC,SAASC,IAER,OADAL,QAAQC,IAAI,wBACL,kCAIR,SAASK,IACRN,QAAQC,IAAI,4BACZ,IA/KmBT,EAoLbe,EAnLC,CACN,CACCC,KAAM,kBACNC,MAJiBjB,EA+KY,CAC9BiB,KAAM,CAAC,CAAC,EAAG,IACXC,GAAI,CAAC,IAAK,KACVC,GAAI,CAAC,IAAK,OA9KGF,MACV,CACFD,KAAM,KACNC,KAAM,CAACjB,EAAMkB,KACX,CACFF,KAAM,KACNC,KAAM,CAACjB,EAAMmB,MA2Kf,EAnED,SAAoBJ,GACnB,IADwC,EACpCK,EAAQC,EAAAA,EACRC,EAAQD,EAAAA,EACRE,GAAQ,IACRC,GAAQ,IAJ4B,UAKrBT,EAAO,GAAGE,MALW,IAKxC,2BAAmC,CAAC,IAAD,qBAAzBQ,EAAyB,KAAtBC,EAAsB,KAC9BD,EAAIF,IAAOA,EAAQE,GACnBC,EAAIF,IAAOA,EAAQE,GACnBD,EAAIL,IAAOA,EAAQK,GACnBC,EAAIJ,IAAOA,EAAQI,IATgB,8BAaxC,MAAO,CAF+B,IAA1BC,KAAKC,MAAMR,EAAQ,KAAa,IACN,IAA1BO,KAAKC,MAAML,EAAQ,KAAa,KAuDvBM,CAAWd,GAAhC,eACMe,EAtKP,SAAyBC,EAAeC,GACvC,MAAO,CACNC,MAAO,CACNC,GAAI,gBACJC,KAAM,OACNC,WAAY,CACXC,SAAS,GAEVC,QAAS,CACRC,MAAM,GAEPC,KAAM,CACLH,SAAS,IAGXI,MAAO,CACNN,KAAM,UACNO,IAAKX,EACLY,IAAKX,EACLY,WAAY,GACZC,gBAAiB,EACjBC,MAAO,CACNC,KAAM,8BAGRC,MAAO,CACNJ,WAAY,EACZC,gBAAiB,EACjBC,MAAO,CACNC,KAAM,6BAGRE,OAAQ,CACPC,QAAS,SAEVC,YAAa,CACZH,MAAO,CACN,CACCI,EAAG,EACHC,gBAAiB,EACjBC,YAAa,OACbC,YAAa,EACbC,QAAS,IAGXf,MAAO,CACN,CACCgB,EAAG,EACHJ,gBAAiB,EACjBC,YAAa,OACbC,YAAa,EACbC,QAAS,KAIZE,QAAS,CACRC,WAAW,EACXC,QAAQ,GAETC,OAAQ,CACPC,SAAU,SACVC,OAAQ,GACRC,WAAY,CACXC,WAAY,GACZC,SAAU,IAGZC,QAAS,GAeTC,KAAM,CACL3B,MAAO,CACN4B,MAAO,CACN9B,MAAM,IAGRS,MAAO,CACNqB,MAAO,CACN9B,MAAM,MA4EM+B,CADhB,WAEA,OAAO,SAAC,IAAD,CAAOxC,QAASA,EAASf,OAAQA,EAAQoB,KAAK,SAGvC,SAASoC,EAAMvE,GAC7B,OACC,UAACD,EAAD,YAGC,SAACc,EAAD,KACA,SAACC,EAAD","sources":["rechteck_qs/Graph.tsx"],"sourcesContent":["import { ApexOptions } from \"apexcharts\";\nimport { useEffect, useRef, useState } from \"react\";\nimport Chart from \"react-apexcharts\";\nimport { propTypes } from \"react-bootstrap/esm/Image\";\n\n\nexport interface GraphProps {\n\tdata: [number, number][]\n\tRd: [number, number]\n\tEd: [number, number]\n}\n\n\ntype GraphSeries = [\n\t{\n\t\tname: \"M-N-Interaktion\",\n\t\tdata: [number, number][]\n\t}, {\n\t\tname: \"Ed\",\n\t\tdata: [[number, number]]\n\t}, {\n\t\tname: \"Rd\",\n\t\tdata: [[number, number]]\n\t}\n];\n\n\nfunction makeSeries(props: GraphProps): GraphSeries {\n\treturn [\n\t\t{\n\t\t\tname: \"M-N-Interaktion\",\n\t\t\tdata: props.data\n\t\t}, {\n\t\t\tname: \"Ed\",\n\t\t\tdata: [props.Ed]\n\t\t}, {\n\t\t\tname: \"Rd\",\n\t\t\tdata: [props.Rd]\n\t\t}\n\t];\n}\n\n\nfunction getGraphOptions(x_min: number, x_max: number): ApexOptions {\n\treturn {\n\t\tchart: {\n\t\t\tid: \"mninteraktion\",\n\t\t\ttype: \"line\",\n\t\t\tanimations: {\n\t\t\t\tenabled: false,\n\t\t\t},\n\t\t\ttoolbar: {\n\t\t\t\tshow: false\n\t\t\t},\n\t\t\tzoom: {\n\t\t\t\tenabled: false,\n\t\t\t}\n\t\t},\n\t\txaxis: {\n\t\t\ttype: 'numeric',\n\t\t\tmin: x_min,\n\t\t\tmax: x_max,\n\t\t\ttickAmount: 14,\n\t\t\tdecimalsInFloat: 0,\n\t\t\ttitle: {\n\t\t\t\ttext: \"Biegemoment M-Rd in [kNm]\"\n\t\t\t},\n\t\t},\n\t\tyaxis: {\n\t\t\ttickAmount: 8,\n\t\t\tdecimalsInFloat: 0,\n\t\t\ttitle: {\n\t\t\t\ttext: \"Normalkraft N-Rd in [kN]\"\n\t\t\t},\n\t\t},\n\t\tstroke: {\n\t\t\tlineCap: 'round',\n\t\t},\n\t\tannotations: {\n\t\t\tyaxis: [\n\t\t\t\t{\n\t\t\t\t\ty: 0,\n\t\t\t\t\tstrokeDashArray: 0,\n\t\t\t\t\tborderColor: '#888',\n\t\t\t\t\tborderWidth: 1,\n\t\t\t\t\topacity: 1\n\t\t\t\t}\n\t\t\t],\n\t\t\txaxis: [\n\t\t\t\t{\n\t\t\t\t\tx: 0,\n\t\t\t\t\tstrokeDashArray: 0,\n\t\t\t\t\tborderColor: '#888',\n\t\t\t\t\tborderWidth: 1,\n\t\t\t\t\topacity: 1\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\ttooltip: {\n\t\t\tintersect: true,\n\t\t\tshared: false,\n\t\t},\n\t\tlegend: {\n\t\t\tposition: \"bottom\",\n\t\t\theight: 40,\n\t\t\titemMargin: {\n\t\t\t\thorizontal: 10,\n\t\t\t\tvertical: 0\n\t\t\t}\n\t\t},\n\t\tmarkers: {\n\t\t\t// size: 3,\n\t\t\t// strokeWidth: 0,\n\t\t\t// hover: {\n\t\t\t// \tsize: 3,\n\t\t\t// },\n\t\t\t// discrete: [{\n\t\t\t// \tseriesIndex: 1,\n\t\t\t// \tdataPointIndex: 0,\n\t\t\t// \tfillColor: '#00e396',\n\t\t\t// \tstrokeColor: '#fff',\n\t\t\t// \tsize: 10,\n\t\t\t// \tshape: \"circle\",\n\t\t\t// }]\n\t\t},\n\t\tgrid: {\n\t\t\txaxis: {\n\t\t\t\tlines: {\n\t\t\t\t\tshow: true,\n\t\t\t\t}\n\t\t\t},\n\t\t\tyaxis: {\n\t\t\t\tlines: {\n\t\t\t\t\tshow: true,\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t}\n}\n\n\nfunction getMinMaxX(series: GraphSeries) {\n\tlet M_min = Infinity;\n\tlet N_min = Infinity;\n\tlet M_max = -Infinity;\n\tlet N_max = -Infinity;\n\tfor (let [M, N] of series[0].data) {\n\t\tif (M > M_max) M_max = M;\n\t\tif (N > N_max) N_max = N;\n\t\tif (M < M_min) M_min = M;\n\t\tif (N < N_min) N_min = N;\n\t}\n\tlet x_min = Math.floor(M_min / 500) * 500 - 500\n\tlet x_max = Math.floor(M_max / 500) * 500 + 500\n\treturn [x_min, x_max]\n}\n\n\nfunction DelayedRender(props: any) {\n\tlet [isShown, setIsShown] = useState(false);\n\tconst timeoutRef: { current: NodeJS.Timeout | null } = useRef(null);\n\tuseEffect(() => {\n\t\tsetIsShown(false);\n\t\tif (timeoutRef.current) {\n\t\t\tconsole.log(\"Clear timeout:\", timeoutRef.current, \"isShown:\", isShown);\n\t\t\tclearTimeout(timeoutRef.current);\n\t\t}\n\t\ttimeoutRef.current = setTimeout(() => {\n\t\t\tconsole.log(\"Timeout expired -> isShown:\", true);\n\t\t\tsetIsShown(true);\n\t\t\ttimeoutRef.current = null;\n\t\t}, 1000);\n\t\tconsole.log(\"New timeout:\", timeoutRef.current, \"isShown:\", isShown);\n\t\treturn () => {if (timeoutRef.current) clearTimeout(timeoutRef.current)};\n\t}, [props]);\n\treturn isShown ? props.children : null;\n}\n\n\n// https://stackoverflow.com/questions/30803440/delayed-rendering-of-react-components\nfunction DelayedRender2(props: any) {\n\tconst [isShown, setIsShown] = useState(false);\n\n\tuseEffect(() => {\n\t  const timer = setTimeout(() => {\n\t\tsetIsShown(true);\n\t  }, 1000);\n\t  return () => clearTimeout(timer);\n\t}, [props]);\n\n\treturn isShown ? props.children : null;\n}\n\n\nfunction DummyComponent() {\n\tconsole.log(\"Rendering dummy ...\");\n\treturn <h1>DUMMY</h1>\n}\n\n\nfunction ChartDummy() {\n\tconsole.log(\"Rendering ChartDummy ...\");\n\tconst dummyProps: GraphProps = {\n\t\tdata: [[1, 1]],\n\t\tEd: [100, 100],\n\t\tRd: [200, 200]\n\t}\n\tconst series = makeSeries(dummyProps);\n\tlet [x_min, x_max] = getMinMaxX(series);\n\tconst options = getGraphOptions(x_min, x_max);\n\treturn <Chart options={options} series={series} type=\"line\" />\n}\n\nexport default function Graph(props: GraphProps) {\n\treturn (\n\t\t<DelayedRender>\n\t\t\t{/* <h1>DONE</h1> */}\n\t\t\t{/* <Chart options={options} series={series} type=\"line\" /> */}\n\t\t\t<DummyComponent />\n\t\t\t<ChartDummy />\n\t\t</DelayedRender>\n\t)\n}\n"],"names":["DelayedRender","props","useState","isShown","setIsShown","timeoutRef","useRef","useEffect","current","console","log","clearTimeout","setTimeout","children","DummyComponent","ChartDummy","series","name","data","Ed","Rd","M_min","Infinity","N_min","M_max","N_max","M","N","Math","floor","getMinMaxX","options","x_min","x_max","chart","id","type","animations","enabled","toolbar","show","zoom","xaxis","min","max","tickAmount","decimalsInFloat","title","text","yaxis","stroke","lineCap","annotations","y","strokeDashArray","borderColor","borderWidth","opacity","x","tooltip","intersect","shared","legend","position","height","itemMargin","horizontal","vertical","markers","grid","lines","getGraphOptions","Graph"],"sourceRoot":""}